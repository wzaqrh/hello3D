<Shader Name="Model">
	<Include>Standard</Include>
	<Include>Skeleton</Include>
	
	<PROGRAM>
		<UseAttribute>vbSurface</UseAttribute>
		<UseAttribute>vbWeightedSkin</UseAttribute>
		<UseUniform>cbPerFrame</UseUniform>
		<UseUniform>cbPerLight</UseUniform>
		<UseUniform>cbWeightedSkin</UseUniform>
		<UseTexture>txGlobal</UseTexture>
		<Texture>
			<Element Slot="0">txAlbedo</Element>
			<Element Slot="1">txNormal</Element>
			<Element Slot="2">txMetalness</Element>
			<Element Slot="3">txSmoothness</Element>
			<Element Slot="4">txAmbientOcclusion</Element>
		</Texture>
		
		<Macros>
			<ENABLE_SHADOW_MAP>1</ENABLE_SHADOW_MAP>
			<ENABLE_ENVIROMENT_MAP>0</ENABLE_ENVIROMENT_MAP>
		</Macros>
		<FileName>Model</FileName>
		<VertexEntry>VS</VertexEntry>
	</PROGRAM>
	
	<SubShader>
		<Pass>
			<Tags> <LightMode>ShadowCaster</LightMode> </Tags>
			<PROGRAM> 
				<VertexEntry>VSShadowCaster</VertexEntry> 
				<PixelEntry></PixelEntry>
			</PROGRAM>
		</Pass>
		<Pass>
			<Tags> <LightMode>ForwardBase</LightMode> </Tags>
			<PROGRAM> 
				<VertexEntry>VS</VertexEntry> 
				<PixelEntry>PS</PixelEntry> 
			</PROGRAM>
		</Pass>
		<Pass>
			<Tags> <LightMode>ForwardAdd</LightMode> </Tags>
			<PROGRAM> 
				<VertexEntry>VS</VertexEntry>
				<PixelEntry>PSAdd</PixelEntry> 
			</PROGRAM>
		</Pass>
		
		<Pass>
			<Tags> <LightMode>PrepassBase</LightMode> </Tags>
			<PROGRAM> 
				<VertexEntry>VSPrepassBase</VertexEntry> 
				<PixelEntry>PSPrepassBase</PixelEntry>
			</PROGRAM>
		</Pass>
		<Pass>
			<Tags> <LightMode>PrepassFinal</LightMode> </Tags>
			<PROGRAM> 
				<VertexEntry>VSPrepassFinal</VertexEntry> 
				<PixelEntry>PSPrepassFinal</PixelEntry>
			</PROGRAM>
		</Pass>
	</SubShader>
</Shader>